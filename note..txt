

import { getAllWordSlugs, getRichWord } from '@/lib/api';
import WordPageContent from './components/WordPageContent';

import { notFound } from 'next/navigation';

const BASE_URL = process.env.NEXT_PUBLIC_SEO_DOMAIN;
const LANG_URLS = {
  'en': `${BASE_URL}/en/words`,
  'es': `${BASE_URL}/es/words`,
  'ru': `${BASE_URL}/ru/words`,
};
// API_URL = process.env.NEXT_PUBLIC_API_URL;
// LANG_URLS = process.env.NEXT_PUBLIC_LANG_URLS;

function getTargetLanguage(lang) {
  const langMap = {
    'en': 'es',
    'es': 'en',
    'ru': 'en',
  };
  return langMap[lang] || 'en';
}


export async function generateMetadata({ params }) {
...
}


export async function generateStaticParams() {
  try {
    const slugs = await getAllWordSlugs();
    return slugs.map(slug => ({
      lang: slug.lang,
      word: slug.word
    }));
  } catch (e) {
    console.error("Failed to generate static params:", e);
    return [];
  }
}

export default async function Page({ params }) {
  const { lang, word } = await params;
  const decodedWord = decodeURIComponent(word);
  const data = await getRichWord(lang, decodedWord);

  if (!data) notFound();

  // if (!data) {
  //   return (
  //     <div className="min-h-screen bg-white flex items-center justify-center">
  //       <main className="container mx-auto px-4 py-20 text-center">
  //         <h1 className="text-3xl font-bold text-gray-900 mb-4">Word not found</h1>
  //         <p className="text-gray-600">The word "{decodedWord}" was not found.</p>
  //       </main>
  //     </div>
  //   );
  // }

  return <WordPageContent data={data} lang={lang} decodedWord={decodedWord} />;
  
}


